/*
// providers should implement the following:
module.exports = function (configuration) {
    return {
        read: function (table, query) { },
        update: function (table, item) { },
        insert: function (table, item) { },
        delete: function (table, id, version) { },
        truncate: function (table) { }
    };
};

// where table is an object with the following properties:
var table = {
    name: 'tableName',
    autoIncrement: false,   // not implemented
    dynamicSchema: true,
    idColumn: 'id'          // not implemented
}
*/

module.exports = function (configuration) {
    var provider = (configuration && configuration.data && configuration.data.provider) || 'memory';
    return require('azure-mobile-apps.data.' + provider)(configuration.data);
}
