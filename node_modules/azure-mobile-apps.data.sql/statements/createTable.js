var helpers = require('../helpers');

module.exports = function (tableConfig) {
    var tableName = helpers.formatTableName(tableConfig.schema || 'dbo', tableConfig.name),
        pkName = 'PK_' + tableConfig.name;

    return {
        // 900 bytes is the maximum length for a primary key - http://stackoverflow.com/questions/10555642/varcharmax-column-not-allowed-to-be-a-primary-key-in-sql-server
        sql: 'CREATE TABLE ' + tableName + ' (id NVARCHAR(900) NOT NULL) ON [PRIMARY]; ALTER TABLE ' + tableName + ' ADD CONSTRAINT ' + pkName + ' PRIMARY KEY CLUSTERED (id) ON [PRIMARY]'
    };
}
