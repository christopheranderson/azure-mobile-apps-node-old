var express = require('express');

module.exports = function () {
    var router = express.Router(),
        result = function (req, res, next) {
            router(req, res, next);
        };
    
    result.add = function (name, definition) {
        if (definition.constructor === Function)
            definition = definition();
        router.use('/' + name + '/:id', definition);
    };

    return result;
}