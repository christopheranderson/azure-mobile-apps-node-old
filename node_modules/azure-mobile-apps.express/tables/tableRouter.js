var express = require('express');

module.exports = function (rootPath) {
    var router = express.Router(),
        result = function (req, res, next) {
            router(req, res, next);
        };

    result.add = function (name, definition) {
        if (definition.constructor === Function)
            definition = definition(name);

        router.use('/', definition);
    };

    result.stack = router.stack;

    return result;
}
