var tableConfigurationFactory = require('azure-mobile-apps.express/tableConfigurationFactory'),
    expect = require('chai').expect;

describe('azure-mobile-apps.express.tableConfigurationFactory', function () {
    it('generates table configuration object', function () {
        var factory = tableConfigurationFactory();
        factory.use('a', 'b');
        factory.use.read('c', 'd');
        factory.use.update('e', 'f');
        factory.use.insert('g', 'h');
        factory.use.delete('i', 'j');

        expect(factory()).to.deep.equal({
            middleware: ['a', 'b'],
            read: ['c', 'd'],
            update: ['e', 'f'],
            insert: ['g', 'h'],
            delete: ['i', 'j']
        });
    });
});
