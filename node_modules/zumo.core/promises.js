var polyfill = require('promise');

module.exports = {
    library: typeof Promise === 'undefined' ? polyfill : Promise,
    create: function (resolver) {
        var constructor = module.exports.library;
        return new constructor(resolver);
    },
    resolved: function (value) {
        return module.exports.create(function (resolve, reject) {
            resolve(value);
        });
    }
}